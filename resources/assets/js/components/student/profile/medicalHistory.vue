<template>
  <div class="px-3 overflow-x-scroll lg:overflow-x-auto md:overflow-x-auto py-3" v-bind:class="[this.profile_tab==10?'block' :'hidden']">
    <div v-if="this.success!=null" class="alert alert-success" id="success-alert">{{this.success}}</div>
    <div class="flex lg:justify-end w-full px-3" v-if="mode == 'admin'"> 
      <div class="flex flex-row lg:flex-col md:flex-col">
        <a :href="url+'/admin/student/add/medicalHistory/'+this.name" title="Edit">
          <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.873 477.873" xml:space="preserve" class="w-4 h-4 fill-current text-black-500 mx-2"><g><g><path d="M392.533,238.937c-9.426,0-17.067,7.641-17.067,17.067V426.67c0,9.426-7.641,17.067-17.067,17.067H51.2 c-9.426,0-17.067-7.641-17.067-17.067V85.337c0-9.426,7.641-17.067,17.067-17.067H256c9.426,0,17.067-7.641,17.067-17.067 S265.426,34.137,256,34.137H51.2C22.923,34.137,0,57.06,0,85.337V426.67c0,28.277,22.923,51.2,51.2,51.2h307.2 c28.277,0,51.2-22.923,51.2-51.2V256.003C409.6,246.578,401.959,238.937,392.533,238.937z"></path></g></g> <g><g><path d="M458.742,19.142c-12.254-12.256-28.875-19.14-46.206-19.138c-17.341-0.05-33.979,6.846-46.199,19.149L141.534,243.937 c-1.865,1.879-3.272,4.163-4.113,6.673l-34.133,102.4c-2.979,8.943,1.856,18.607,10.799,21.585 c1.735,0.578,3.552,0.873,5.38,0.875c1.832-0.003,3.653-0.297,5.393-0.87l102.4-34.133c2.515-0.84,4.8-2.254,6.673-4.13 l224.802-224.802C484.25,86.023,484.253,44.657,458.742,19.142z M434.603,87.419L212.736,309.286l-66.287,22.135l22.067-66.202 L390.468,43.353c12.202-12.178,31.967-12.158,44.145,0.044c5.817,5.829,9.095,13.72,9.12,21.955 C443.754,73.631,440.467,81.575,434.603,87.419z"></path></g></g></svg>
        </a>
      </div>   
    </div>
    <div class="flex flex-wrap custom-table mx-3 my-3" v-if="medical.height != null && medical.weight != null">
      <ul class="list-reset leading-loose my-2 text-xs">
        <li class="flex py-1">
          <div class="flex items-center">
            <svg class="w-3 h-3 fill-current text-gray-800" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 162.978 162.978" style="enable-background:new 0 0 162.978 162.978;" xml:space="preserve"><g><g><g><path d="M162.978,101.101l-19.611-39.224l-19.611,39.224h13.209c-8.315,25.958-32.633,44.826-61.324,44.826 c-35.529,0-64.438-28.908-64.438-64.438c0-35.529,28.909-64.438,64.438-64.438c27.376,0,50.764,17.19,60.077,41.325l6.44-12.882 c-12.813-23.595-37.82-39.649-66.512-39.649C33.936,5.844,0,39.778,0,81.489c0,41.708,33.936,75.645,75.645,75.645 c34.924,0,64.331-23.809,72.997-56.032H162.978z" data-original="#000000" class="active-path" fill=""/><path d="M35.486,96.582h7.084l2.15-7.749h8.645l2.332,7.749h7.345l-9.362-30.192h-8.96L35.486,96.582z M47.494,77.32 c0.493-1.749,0.941-4.034,1.39-5.823h0.088c0.449,1.789,0.988,4.036,1.527,5.823l1.882,6.413h-6.675L47.494,77.32z" data-original="#000000" class="active-path" fill=""/><path d="M81.737,71.722c3.311,0,5.371,0.583,7.029,1.294l1.436-5.466c-1.479-0.715-4.482-1.48-8.377-1.48    c-9.901,0-17.2,5.731-17.253,15.769c-0.042,4.434,1.48,8.372,4.26,10.978c2.778,2.688,6.763,4.076,12.277,4.076 c3.98,0,7.975-0.985,10.075-1.701V79.289H79.943v5.331h4.665v6.313c-0.542,0.274-1.798,0.449-3.365,0.449 c-5.604,0-9.497-3.677-9.497-9.904C71.746,74.944,76.042,71.722,81.737,71.722z" data-original="#000000" class="active-path" fill=""/><polygon points="115.175,71.993 115.175,66.395 96.539,66.395 96.539,96.582 115.804,96.582 115.804,90.989 103.394,90.989     103.394,83.821 114.507,83.821 114.507,78.261 103.394,78.261 103.394,71.993" data-original="#000000" class="active-path" fill=""/></g></g></g> </svg>
            <span class="text-gray-700 font-medium mx-2">Height : </span>
          </div>
          <div>
            <p>{{ medical.height }}</p>
          </div>
        </li>
        <li class="flex py-1">
          <div class="flex items-center">
            <svg class="w-3 h-3 fill-current text-gray-800" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve" width="512px" height="512px"><g><g><g><path d="M466,242.581c0-168.832,0.472-158.076-1.102-161.96c3.369-8.323-1.27-17.612-9.777-20.043l-210-60    c-2.693-0.77-5.548-0.77-8.241,0l-210,60C20.439,62.417,16,68.303,16,75.001s4.439,12.583,10.879,14.423L106,112.029 c0,0.679,0,1.306,0,1.891c0,5.083,0,6.755,0,6.727c0,8.27,0,25.579,0,59.353c0,58.278,30.068,108.896,73.87,133.718l-8.275,16.55 c-40.483,2.316-78.308,19.564-107.364,49.156C33.129,411.1,16,452.855,16,497.001c0,8.284,6.716,15,15,15h420 c8.284,0,15-6.716,15-15c0-44.145-17.129-85.9-48.231-117.575c-29.054-29.59-66.879-46.827-107.359-49.146l-8.281-16.561 C345.932,288.897,376,238.279,376,180.001c0-3.699,0-66.967,0-67.971l60-17.143v147.694c-17.459,6.192-30,22.865-30,42.42v30    c0,8.284,6.716,15,15,15h60c8.284,0,15-6.716,15-15v-30C496,265.446,483.459,248.772,466,242.581z M226,482.001H46.804 c7.103-65.907,60.46-117.899,126.328-121.761L226,439.543V482.001z M198.309,343.923l9.286-18.573 c10.687,3.034,21.879,4.651,33.405,4.651s22.717-1.617,33.404-4.65l9.286,18.572L241,407.959L198.309,343.923z M308.868,360.241    c65.868,3.86,119.225,55.853,126.328,121.76H256v-42.458L308.868,360.241z M241,300.001c-50.888,0-93.431-41.589-102.988-96.587 c31.678,14.133,67.086,21.587,102.988,21.587c35.9,0,71.308-7.453,102.987-21.584C334.43,258.413,291.887,300.001,241,300.001z     M345.672,163.069c-0.872,4.334-3.441,7.986-7.037,9.752c-29.533,14.51-63.294,22.179-97.635,22.179    c-34.344,0-68.106-7.671-97.637-22.183c-4.892-2.403-7.363-7.967-7.363-13.031V120.6c108.861,31.103,101.999,29.4,105,29.4 c3,0-3.883,1.71,105-29.4C346,163.657,346.119,160.868,345.672,163.069z M241,119.401l-155.399-44.4L241,30.6l155.399,44.4 L241,119.401z M466,300.001h-30v-15c0-8.271,6.729-15,15-15s15,6.729,15,15V300.001z" data-original="#000000" data-old_color="#000000" fill="" class="active-path"></path></g></g><g><g><path d="M361,420.001h-30c-8.284,0-15,6.716-15,15s6.716,15,15,15h30c8.284,0,15-6.716,15-15S369.284,420.001,361,420.001z" data-original="#000000" data-old_color="#000000" fill="" class="active-path"></path></g></g></g></svg>
            <span class="text-gray-700 font-medium mx-2">Weight : </span>
          </div>
          <div>
            <p>{{ medical.weight }}</p>
          </div>
        </li>
        <li class="flex py-1">
          <div class="flex items-center">
            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve" class="w-3 h-3 fill-current text-gray-800"><g><g><path d="M411.631,190.282h-111.72c-9.899,0-17.923,8.023-17.923,17.923s8.023,17.923,17.923,17.923h111.72 c9.905,0,17.923-8.023,17.923-17.923S421.531,190.282,411.631,190.282z"></path></g></g><g><g><path d="M411.631,285.872h-111.72c-9.899,0-17.923,8.023-17.923,17.923s8.023,17.923,17.923,17.923h111.72 c9.905,0,17.923-8.024,17.923-17.923S421.531,285.872,411.631,285.872z"></path></g></g><g><g><path d="M494.077,55.263H17.923C8.023,55.263,0,63.286,0,73.185v365.629c0,9.899,8.023,17.923,17.923,17.923h476.154 c9.899,0,17.923-8.023,17.923-17.923V73.185C512,63.286,503.977,55.263,494.077,55.263z M476.154,420.891H35.846V91.109h440.308 V420.891z"></path></g></g><g><g><path d="M155.93,143.683c-28.659,0-51.977,23.318-51.977,51.977s23.318,51.977,51.977,51.977 c28.659,0,51.977-23.318,51.977-51.977S184.589,143.683,155.93,143.683z M155.93,211.79c-8.896,0-16.131-7.235-16.131-16.131 c0-8.896,7.235-16.131,16.131-16.131c8.896,0,16.131,7.235,16.131,16.131C172.061,204.555,164.826,211.79,155.93,211.79z"></path></g></g><g><g><path d="M155.93,248.837c-46.779,0-84.835,38.056-84.835,84.83v16.728c0,9.899,8.023,17.923,17.923,17.923h133.825 c9.899,0,17.923-8.018,17.923-17.917v-16.734C240.766,286.893,202.709,248.837,155.93,248.837z M106.952,332.471 c0.633-26.46,22.362-47.795,48.978-47.795c26.61,0,48.338,21.328,48.972,47.795H106.952z"></path></g></g></svg>
            <span class="text-gray-700 font-medium mx-2">Medication Problems : </span>
          </div>
          <div>
            <p>{{ medical.medication_problems }}</p>
          </div>
        </li>
        <li class="flex py-1">
          <div class="flex items-center">
            <svg id="Capa_1" enable-background="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 fill-current text-gray-800"><g><path d="m144 249h-32c-8.284 0-15 6.716-15 15s6.716 15 15 15h32c8.284 0 15-6.716 15-15s-6.716-15-15-15z"></path><path d="m144 313h-32c-8.284 0-15 6.716-15 15s6.716 15 15 15h32c8.284 0 15-6.716 15-15s-6.716-15-15-15z"></path><path d="m144 377h-32c-8.284 0-15 6.716-15 15s6.716 15 15 15h32c8.284 0 15-6.716 15-15s-6.716-15-15-15z"></path><path d="m272 249h-32c-8.284 0-15 6.716-15 15s6.716 15 15 15h32c8.284 0 15-6.716 15-15s-6.716-15-15-15z"></path><path d="m272 313h-32c-8.284 0-15 6.716-15 15s6.716 15 15 15h32c8.284 0 15-6.716 15-15s-6.716-15-15-15z"></path><path d="m272 377h-32c-8.284 0-15 6.716-15 15s6.716 15 15 15h32c8.284 0 15-6.716 15-15s-6.716-15-15-15z"></path><path d="m400 249h-32c-8.284 0-15 6.716-15 15s6.716 15 15 15h32c8.284 0 15-6.716 15-15s-6.716-15-15-15z"></path><path d="m400 313h-32c-8.284 0-15 6.716-15 15s6.716 15 15 15h32c8.284 0 15-6.716 15-15s-6.716-15-15-15z"></path><path d="m400 377h-32c-8.284 0-15 6.716-15 15s6.716 15 15 15h32c8.284 0 15-6.716 15-15s-6.716-15-15-15z"></path><path d="m467 65h-36v-25c0-8.284-6.716-15-15-15s-15 6.716-15 15v25h-130v-25c0-8.284-6.716-15-15-15s-15 6.716-15 15v25h-130v-25c0-8.284-6.716-15-15-15s-15 6.716-15 15v25h-36c-24.813 0-45 20.187-45 45v332c0 24.813 20.187 45 45 45h422c24.813 0 45-20.187 45-45 0-9.682 0-323.575 0-332 0-24.813-20.187-45-45-45zm-437 45c0-8.271 6.729-15 15-15h36v25c0 8.284 6.716 15 15 15s15-6.716 15-15v-25h130v25c0 8.284 6.716 15 15 15s15-6.716 15-15v-25h130v25c0 8.284 6.716 15 15 15s15-6.716 15-15v-25h36c8.271 0 15 6.729 15 15v59h-452zm437 347h-422c-8.271 0-15-6.729-15-15v-243h452v243c0 8.271-6.729 15-15 15z"></path></g></svg>
            <span class="text-gray-700 font-medium mx-2">Medication Needs : </span>
          </div>
          <div>
            <p>{{ medical.medication_needs }}</p>
          </div>
        </li>
        <li class="flex py-1">
          <div class="flex items-center">
            <svg class="w-3 h-3 fill-current text-gray-800" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.001 512.001" style="enable-background:new 0 0 512.001 512.001;" xml:space="preserve"><g><g><path d="M481.999,273.586v-47.58c0-8.284-6.716-15-15-15c-30.988,0-59.878,2.615-87.173,7.955 c-15.911-15.365-35.308-26.513-56.313-32.606c22.904-19.277,37.486-48.14,37.486-80.349c0-58.449-47.103-106-105-106 c-57.897,0-105,47.551-105,106c0,32.209,14.582,61.072,37.487,80.348c-21.005,6.094-40.402,17.242-56.313,32.606 c-27.295-5.339-56.185-7.955-87.173-7.955c-8.284,0-15,6.716-15,15v47.58c-17.459,6.192-30,22.865-30,42.42v30 c0,19.555,12.541,36.228,30,42.42v47.58c0,8.284,6.716,15,15,15c78.429,0,142.832,18.583,202.68,58.481 c5.015,3.342,11.621,3.35,16.641,0c59.848-39.898,124.25-58.481,202.68-58.481c8.284,0,15-6.716,15-15v-47.58 c17.459-6.192,30-22.865,30-42.42v-30C511.999,296.451,499.458,279.778,481.999,273.586z M180.999,106.006 c0-41.907,33.645-76,75-76s75,34.093,75,76c0,41.355-33.645,75-75,75C214.644,181.006,180.999,147.361,180.999,106.006z M44.999,361.006c-8.271,0-15-6.729-15-15v-30c0-8.271,6.729-15,15-15s15,6.729,15,15v30 C59.999,354.277,53.27,361.006,44.999,361.006z M240.999,470.091c-54.453-31.141-112.886-46.88-181-48.869v-32.796 c17.459-6.192,30-22.865,30-42.42v-30c0-19.555-12.541-36.228-30-42.42v-32.368c70.481,2.023,127.134,18.62,181,52.916V470.091z M255.999,268.145c-27.686-17.469-56.504-30.77-87.268-40.117c16.904-10.986,36.803-17.022,57.268-17.022h60 c20.465,0,40.364,6.036,57.268,17.022C312.503,237.375,283.684,250.676,255.999,268.145z M451.999,421.222 c-68.113,1.989-126.548,17.732-181,48.871V294.146c53.867-34.299,110.516-50.906,181-52.928v32.368 c-17.459,6.192-30,22.865-30,42.42v30c0,19.555,12.541,36.228,30,42.42V421.222z M481.999,346.006c0,8.271-6.729,15-15,15 s-15-6.729-15-15v-30c0-8.271,6.729-15,15-15s15,6.729,15,15V346.006z"/></g></g></svg>
            <span class="text-gray-700 font-medium mx-2">Medication Allergies : </span>
          </div>
          <div>
            <p>{{ medical.medication_allergies }}</p>
          </div>
        </li>
        <li class="flex py-1">
          <div class="flex items-center">
            <svg class="w-3 h-3 fill-current text-gray-800" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.001 512.001" style="enable-background:new 0 0 512.001 512.001;" xml:space="preserve"><g><g><path d="M511.03,349.749c0-19.506-12.509-36.136-29.924-42.313V152.629l30.896-12.349L255.669,37.825L0,140.28l121.018,48.496 v71.201c0,21.949,15.388,41.731,43.329,55.702c24.645,12.323,57.079,19.109,91.329,19.109s66.685-6.786,91.329-19.109 c27.941-13.971,43.329-33.752,43.329-55.702V188.91l60.846-24.32v142.847c-17.415,6.176-29.924,22.807-29.924,42.313 c0,17.844,10.467,33.287,25.584,40.516l-24.816,74.448l28.389,9.463l15.73-47.189l15.73,47.189l28.389-9.463l-24.816-74.448 C500.561,383.035,511.03,367.593,511.03,349.749z M360.411,259.976c0,21.188-44.79,44.886-104.734,44.886 c-59.944,0-104.734-23.698-104.734-44.886v-59.209l104.727,41.968l104.742-41.866V259.976z M255.684,210.504L80.445,140.28 l175.239-70.224l175.691,70.224L255.684,210.504z M466.143,364.711c-8.25,0-14.962-6.712-14.962-14.962 c0-8.25,6.712-14.962,14.962-14.962c8.25,0,14.962,6.712,14.962,14.962C481.105,357.999,474.393,364.711,466.143,364.711z"/></g></g></svg>
            <span class="text-gray-700 font-medium mx-2">Food Allergies : </span>
          </div>
          <div>
            <p>{{ medical.food_allergies }}</p>
          </div>
        </li>
        <li class="flex py-1">
          <div class="flex items-center">
            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve" class="w-3 h-3 fill-current text-gray-800"><g><g><path d="M411.631,190.282h-111.72c-9.899,0-17.923,8.023-17.923,17.923s8.023,17.923,17.923,17.923h111.72 c9.905,0,17.923-8.023,17.923-17.923S421.531,190.282,411.631,190.282z"></path></g></g><g><g><path d="M411.631,285.872h-111.72c-9.899,0-17.923,8.023-17.923,17.923s8.023,17.923,17.923,17.923h111.72 c9.905,0,17.923-8.024,17.923-17.923S421.531,285.872,411.631,285.872z"></path></g></g><g><g><path d="M494.077,55.263H17.923C8.023,55.263,0,63.286,0,73.185v365.629c0,9.899,8.023,17.923,17.923,17.923h476.154 c9.899,0,17.923-8.023,17.923-17.923V73.185C512,63.286,503.977,55.263,494.077,55.263z M476.154,420.891H35.846V91.109h440.308 V420.891z"></path></g></g><g><g><path d="M155.93,143.683c-28.659,0-51.977,23.318-51.977,51.977s23.318,51.977,51.977,51.977 c28.659,0,51.977-23.318,51.977-51.977S184.589,143.683,155.93,143.683z M155.93,211.79c-8.896,0-16.131-7.235-16.131-16.131 c0-8.896,7.235-16.131,16.131-16.131c8.896,0,16.131,7.235,16.131,16.131C172.061,204.555,164.826,211.79,155.93,211.79z"></path></g></g><g><g><path d="M155.93,248.837c-46.779,0-84.835,38.056-84.835,84.83v16.728c0,9.899,8.023,17.923,17.923,17.923h133.825 c9.899,0,17.923-8.018,17.923-17.917v-16.734C240.766,286.893,202.709,248.837,155.93,248.837z M106.952,332.471 c0.633-26.46,22.362-47.795,48.978-47.795c26.61,0,48.338,21.328,48.972,47.795H106.952z"></path></g></g></svg>
            <span class="text-gray-700 font-medium mx-2">Other Allergies : </span>
          </div>
          <div>
            <p>{{ medical.other_allergies }}</p>
          </div>
        </li>
        <li class="flex py-1">
          <div class="flex items-center">
            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve" class="w-3 h-3 fill-current text-gray-800"><g><g><path d="M411.631,190.282h-111.72c-9.899,0-17.923,8.023-17.923,17.923s8.023,17.923,17.923,17.923h111.72 c9.905,0,17.923-8.023,17.923-17.923S421.531,190.282,411.631,190.282z"></path></g></g><g><g><path d="M411.631,285.872h-111.72c-9.899,0-17.923,8.023-17.923,17.923s8.023,17.923,17.923,17.923h111.72 c9.905,0,17.923-8.024,17.923-17.923S421.531,285.872,411.631,285.872z"></path></g></g><g><g><path d="M494.077,55.263H17.923C8.023,55.263,0,63.286,0,73.185v365.629c0,9.899,8.023,17.923,17.923,17.923h476.154 c9.899,0,17.923-8.023,17.923-17.923V73.185C512,63.286,503.977,55.263,494.077,55.263z M476.154,420.891H35.846V91.109h440.308 V420.891z"></path></g></g><g><g><path d="M155.93,143.683c-28.659,0-51.977,23.318-51.977,51.977s23.318,51.977,51.977,51.977 c28.659,0,51.977-23.318,51.977-51.977S184.589,143.683,155.93,143.683z M155.93,211.79c-8.896,0-16.131-7.235-16.131-16.131 c0-8.896,7.235-16.131,16.131-16.131c8.896,0,16.131,7.235,16.131,16.131C172.061,204.555,164.826,211.79,155.93,211.79z"></path></g></g><g><g><path d="M155.93,248.837c-46.779,0-84.835,38.056-84.835,84.83v16.728c0,9.899,8.023,17.923,17.923,17.923h133.825 c9.899,0,17.923-8.018,17.923-17.917v-16.734C240.766,286.893,202.709,248.837,155.93,248.837z M106.952,332.471 c0.633-26.46,22.362-47.795,48.978-47.795c26.61,0,48.338,21.328,48.972,47.795H106.952z"></path></g></g></svg>
            <span class="text-gray-700 font-medium mx-2">Student Personal identification: </span>
          </div>
          <div>
            <p>{{ medical.other_medical_information }}</p>
          </div>
        </li>
      </ul>
    </div>
    <div class="notice-box-list py-3 mx-3" v-else>
      <p class="text-sm text-gray-900 font-semibold" style="padding-left: 20rem; padding-right: 20rem;">No Records Found</p>
    </div>
  </div>
</template>

<script>
  import { bus } from "../../../app";
  export default {
    props:['url','name','mode'],
    data () {
      return {
        medical:[],
        profile_tab:'',
        errors:[],
        success:null,     
      }
    },
    methods:
    {
      getData()
      {
        axios.get('/'+this.mode+'/student/show/medicalHistory/'+this.name).then(response => {
          this.medical = response.data;
          //console.log(this.medical)
        });
      },
    },
  
    created()
    {    
      this.getData();
      bus.$on("dataProfileTab", data => {
        if(data!='')
        {
          this.profile_tab=data;                   
        }
      });      
    }
  }
</script>